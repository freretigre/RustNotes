use std::io;
fn main() {
  
  {
    let guess: u32 = "43".parse().expect("Not a number!");
    println!("guess: {}", guess); // guess: 43
    // è¿™é‡Œå¦‚æœä¸æ·»åŠ ç±»å‹æ³¨è§£ï¼ŒRust ä¼šæ˜¾ç¤ºå¦‚ä¸‹é”™è¯¯ï¼Œè¿™è¯´æ˜ç¼–è¯‘å™¨éœ€è¦æˆ‘ä»¬æä¾›æ›´å¤šä¿¡æ¯ï¼Œæ¥äº†è§£æˆ‘ä»¬æƒ³è¦çš„ç±»å‹ï¼š
    /*

    expect() è¿™ä¸ªæ–¹æ³•å°±æ˜¯æ³¨è§£

    $ cargo build
        Compiling no_type_annotations v0.1.0 (file:///projects/no_type_annotations)
      error[E0282]: type annotations needed
      --> src/main.rs:2:9
        |
      2 |     let guess = "42".parse().expect("Not a number!");
        |         ^^^^^ consider giving `guess` a type

      For more information about this error, try `rustc --explain E0282`.
      error: could not compile `no_type_annotations` due to previous error

      ä½ ä¼šçœ‹åˆ°å…¶å®ƒæ•°æ®ç±»å‹çš„å„ç§ç±»å‹æ³¨è§£ã€‚
    */
    let _str: u8 = b'A';

  }


  // TODO: æµ®ç‚¹å‹
  /*
   * æµ®ç‚¹å‹ ä¸€èˆ¬ç”¨äºé‡‘é¢çš„è®¡ç®—
   * 
   * Rust ä¹Ÿæœ‰ä¸¤ä¸ªåŸç”Ÿçš„ æµ®ç‚¹æ•°ï¼ˆfloating-point numbersï¼‰ç±»å‹ï¼Œ
   * å®ƒä»¬æ˜¯å¸¦å°æ•°ç‚¹çš„æ•°å­—ã€‚Rust çš„æµ®ç‚¹æ•°ç±»å‹æ˜¯ f32 å’Œ f64ï¼Œåˆ†åˆ«å 
   * 32 ä½å’Œ 64 ä½ã€‚é»˜è®¤ç±»å‹æ˜¯ f64ï¼Œå› ä¸ºåœ¨ç°ä»£ CPU ä¸­ï¼Œå®ƒä¸ f32 
   * é€Ÿåº¦å‡ ä¹ä¸€æ ·ï¼Œä¸è¿‡ç²¾åº¦æ›´é«˜ã€‚æ‰€æœ‰çš„æµ®ç‚¹å‹éƒ½æ˜¯æœ‰ç¬¦å·çš„ã€‚
   */
  {

    // åŒç²¾åº¦
    let x1 = 2.0;  // åŒç²¾åº¦ï¼Œé»˜è®¤æ˜¯ f64ï¼Œå¯ä»¥ä¸å†™
    // ä¹Ÿå¯ä»¥å†™æˆå¦‚ä¸‹çš„æ–¹å¼ï¼Œæ˜¾å¾—æ›´åŠ ç›´è§‚
    let x2: f64 = 126.0;
    println!("åŒç²¾åº¦x1: {}, åŒç²¾åº¦x2: {}", x1, x2);
    // åŒç²¾åº¦x1: 2, åŒç²¾åº¦x2: 126

    // å•ç²¾åº¦
    let y: f32 = 23.0; // å•ç²¾åº¦å¿…é¡»å†™ f32
    println!("å•ç²¾åº¦y: {}", y);
    // å•ç²¾åº¦y: 23
    
  }


  // TODO: æ•°å€¼è¿ç®—
  /* 
   * i æ˜¯å¦ä¸ºæ­£æ•°ï¼Œä¸€èˆ¬ç”¨äº åœ¨åŠ + å’Œ ä¹˜* 
   * u æ˜¯å¦ä¸ºè´Ÿæ•°ï¼Œ ä¸€èˆ¬ç”¨äº åœ¨å‡- å’Œ é™¤/
   * 
   */
  {
    // åŠ æ³•
    let sum: i64 = 5 + 10;
    println!("åŠ æ³• sum: {}", sum);
    
    // å‡æ³•
    let difference: f64 = 95.5 - 4.3;
    println!("å‡æ³• difference: {}", difference);

    // ä¹˜æ³•
    let produce: i64 = 4 * 30;
    println!("ä¹˜æ³• produce: {}", produce);

    // é™¤æ³•
    let quotient: f64 = 56.7 / 32.2;
    let floored: i64 = 2 / 3; 
    println!("é™¤æ³• quotient: {}", quotient);
    println!("é™¤æ³• floored: {}", floored);
    
    // å–ä½™
    let remainder: i64 = 43 % 5;
    println!("å–ä½™ remainder: {}", remainder);

    //============ä»¥ä¸Šçš„å†™æ³•å®Œå…¨å¯ä»¥å†™æˆå¦‚ä¸‹çš„å†™æ³•============
    // åŠ æ³•
    let _sum = 5 + 10;

    // å‡æ³•
    let _difference = 95.5 - 4.3;

    // ä¹˜æ³•
    let _product = 4 * 30;

    // é™¤æ³•
    let _quotient = 56.7 / 32.2;
    let _floored = 2 / 3; // ç»“æœä¸º 0

    // å–ä½™
    let _remainder = 43 % 5;

    /* 
     *  è¿™äº›è¯­å¥ä¸­çš„æ¯ä¸ªè¡¨è¾¾å¼ä½¿ç”¨äº†ä¸€ä¸ªæ•°å­¦è¿ç®—ç¬¦å¹¶è®¡ç®—å‡ºäº†ä¸€ä¸ªå€¼ï¼Œ
     *  ç„¶åç»‘å®šç»™ä¸€ä¸ªå˜é‡ã€‚é™„å½• B åŒ…å« Rust æä¾›çš„æ‰€æœ‰è¿ç®—ç¬¦çš„åˆ—è¡¨ã€‚
     *  https://kaisery.github.io/trpl-zh-cn/appendix-02-operators.html
     */

    // æŠŠä¸€ä¸ªå­—ç¬¦ç±»å‹è½¬æ¢æˆä¸€ä¸ªæ•°å€¼çš„ç±»å‹
    let num: f32 = "65.0".trim().parse().expect("ä½ è¿™ä¸ªç±»å‹ä¸å¯¹"); 
    println!("num: {}", num);
    
  }

  // TODO: å¸ƒå°”å‹
  /*
   * æ­£å¦‚å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼ŒRust ä¸­çš„å¸ƒå°”ç±»å‹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼štrue å’Œ falseã€‚
   * Rust ä¸­çš„å¸ƒå°”ç±»å‹ä½¿ç”¨ bool è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š
   * 
   * 
   */
  {
    let t = true;
    let f: bool = false; // æ˜¾å¼æŒ‡å®šç±»å‹æ³¨è§£
    println!("å¸ƒå°”å‹ t bool: {}", t);
    // å¸ƒå°”å‹ t bool: true
    println!("å¸ƒå°”å‹ f bool: {}", f);
    // å¸ƒå°”å‹ f bool: false

    /*
     * ä½¿ç”¨å¸ƒå°”å€¼çš„ä¸»è¦åœºæ™¯æ˜¯æ¡ä»¶è¡¨è¾¾å¼ï¼Œ
     * ä¾‹å¦‚ if è¡¨è¾¾å¼ã€‚åœ¨ â€œæ§åˆ¶æµâ€ï¼ˆâ€œControl Flowâ€ï¼‰ 
     * éƒ¨åˆ†å°†ä»‹ç» if è¡¨è¾¾å¼åœ¨ Rust ä¸­å¦‚ä½•å·¥ä½œã€‚
     */
  }

  // TODO: å­—ç¬¦ç±»å‹
  {
    let c: char = 'z';
    let z: char = 'â„¤';
    let heart_eyed_cat: char = 'ğŸ˜»';
    //=====ä»¥ä¸Šä¹Ÿå¯ä»¥å¦‚ä¸‹å†™æ³•====
    let _c = 'z';
    let _z = 'â„¤';
    let _heart_eyed_cat = 'ğŸ˜»';

    println!("å­—ç¬¦ç±»å‹ c: {}", c);
    println!("å­—ç¬¦ç±»å‹ z: {}", z);
    println!("å­—ç¬¦ç±»å‹ heart_eyed_cat: {}", heart_eyed_cat);
     /*
    å­—ç¬¦ç±»å‹ c: z
    å­—ç¬¦ç±»å‹ z: â„¤
    å­—ç¬¦ç±»å‹ heart_eyed_cat: ğŸ˜»
    */

    let x = String::from("è¿™æ˜¯ä¸­æ–‡");
    println!("å­—ç¬¦ä¸²ç±»å‹ x: {}", x);
    /*
    å­—ç¬¦ä¸²ç±»å‹ x: è¿™æ˜¯ä¸­æ–‡
    */
  }

  // TODO: å¤åˆç±»å‹
  /*
   * å¤åˆç±»å‹ï¼ˆCompound typesï¼‰å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚Rust æœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚
   * 
   * å…ƒç»„ç±»å‹
   *    å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚å…ƒç»„é•¿åº¦å›ºå®šï¼šä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚
   *  
   *    æˆ‘ä»¬ä½¿ç”¨åŒ…å«åœ¨åœ†æ‹¬å·ä¸­çš„é€—å·åˆ†éš”çš„å€¼åˆ—è¡¨æ¥åˆ›å»ºä¸€ä¸ªå…ƒç»„ã€‚å…ƒç»„ä¸­çš„æ¯ä¸€ä¸ªä½ç½®éƒ½æœ‰ä¸€ä¸ªç±»å‹ï¼Œè€Œä¸”è¿™äº›ä¸åŒå€¼
   *    çš„ç±»å‹ä¹Ÿä¸å¿…æ˜¯ç›¸åŒçš„ã€‚è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨äº†å¯é€‰çš„ç±»å‹æ³¨è§£ï¼š
   */
  {
    let tup: (i32, f64, u8) = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("å¤åˆç±»å‹ï¼šx: {}, y: {}, z: {}", x, y, z);
    // å¤åˆç±»å‹ï¼šx: 500, y: 6.4, z: 1
  }

  {
    let tup = (500, 6.4, 1);
    let (x, y, z) = tup;
    println!("å¤åˆç±»å‹ï¼šx: {}, y: {}, z: {}", x, y, z);
    // å¤åˆç±»å‹ï¼šx: 500, y: 6.4, z: 1
    /*
     * ç¨‹åºé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªå…ƒç»„å¹¶ç»‘å®šåˆ° tup å˜é‡ä¸Šã€‚æ¥ç€ä½¿ç”¨äº† let å’Œä¸€ä¸ªæ¨¡å¼å°† tup 
     * åˆ†æˆäº†ä¸‰ä¸ªä¸åŒçš„å˜é‡ï¼Œxã€y å’Œ zã€‚è¿™å«åš è§£æ„ï¼ˆdestructuringï¼‰ï¼Œå› ä¸ºå®ƒå°†ä¸€
     * ä¸ªå…ƒç»„æ‹†æˆäº†ä¸‰ä¸ªéƒ¨åˆ†ã€‚æœ€åï¼Œç¨‹åºæ‰“å°å‡ºäº† y çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ 6.4ã€‚
     * 
     */
  }

  {
    let x: (i32, f64, u8) = (800, 6.4, 2);
    // æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬ã€‚ä¾‹å¦‚ï¼š
    let five_hundred = x.0;
    let six_point_four = x.1;
    let one = x.2;
    println!("ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: {}", five_hundred);
    println!("ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: {}", six_point_four);
    println!("ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: {}", one);
    /*
    ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: 800
    ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: 6.4
    ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬: 2
    */

    /*
     * 
     * è¿™ä¸ªç¨‹åºåˆ›å»ºäº†ä¸€ä¸ªå…ƒç»„ï¼Œxï¼Œå¹¶æ¥ç€ä½¿ç”¨ç´¢å¼•ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºæ–°å˜é‡ã€‚
     * è·Ÿå¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå…ƒç»„çš„ç¬¬ä¸€ä¸ªç´¢å¼•å€¼æ˜¯ 0ã€‚
     * 
     * æ²¡æœ‰ä»»ä½•å€¼çš„å…ƒç»„ () æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼ï¼Œä¹Ÿå†™æˆ () ã€‚è¯¥ç±»
     * å‹è¢«ç§°ä¸º å•å…ƒç±»å‹ï¼ˆunit typeï¼‰ï¼Œè€Œè¯¥å€¼è¢«ç§°ä¸º å•å…ƒå€¼ï¼ˆunit valueï¼‰ã€‚
     * å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚
     */
     
  }



  // TODO: æ•°ç»„ç±»å‹
  /*
   * å¦ä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„æ–¹å¼æ˜¯ æ•°ç»„ï¼ˆarrayï¼‰ã€‚ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…
   * é¡»ç›¸åŒã€‚Rust ä¸­çš„æ•°ç»„ä¸ä¸€äº›å…¶ä»–è¯­è¨€ä¸­çš„æ•°ç»„ä¸åŒï¼ŒRustä¸­çš„æ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚
   * 
   * æˆ‘ä»¬å°†æ•°ç»„çš„å€¼å†™æˆåœ¨æ–¹æ‹¬å·å†…ï¼Œç”¨é€—å·åˆ†éš”ï¼š
   */
  {
    let list = [1, 2, 3, 4, 5];
    println!("list: {}", list[2]); // è®¿é—®æ•°ç»„ list: 3
  }
  {
    let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    println!("months: {}", months[1]); // months: February


    // ä½¿ç”¨æ–¹æ‹¬å·ç¼–å†™æ•°ç»„çš„ç±»å‹ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€åˆ†å·ï¼Œç„¶åæ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
    /*
     * è¿™é‡Œï¼Œi32 æ˜¯æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚åˆ†å·ä¹‹åï¼Œæ•°å­— 5 è¡¨æ˜è¯¥æ•°ç»„åŒ…å« 5 ä¸ªå…ƒç´ ã€‚
     */
    let _alist: [i32; 5] = [1, 2, 3, 4, 5];
    println!("_alist: {}",_alist[0]); // _alist: 1

    /*
     * ä»¥è¿™ç§æ–¹å¼ç¼–å†™æ•°ç»„çš„ç±»å‹çœ‹èµ·æ¥ç±»ä¼¼äºåˆå§‹åŒ–æ•°ç»„çš„å¦ä¸€ç§è¯­æ³•ï¼š
     * å¦‚æœè¦ä¸ºæ¯ä¸ªå…ƒç´ åˆ›å»ºåŒ…å«ç›¸åŒå€¼çš„æ•°ç»„ï¼Œå¯ä»¥æŒ‡å®šåˆå§‹å€¼ï¼Œåè·Ÿåˆ†å·ï¼Œ
     * ç„¶ååœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šæ•°ç»„çš„é•¿åº¦ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 
     * 
     * å¯¹äºæ¯ä¸ªå…ƒç´ éƒ½ç›¸åŒçš„æƒ…å†µï¼Œè¿˜å¯ä»¥é€šè¿‡æŒ‡å®šåˆå§‹å€¼ã€åè·Ÿåˆ†å·å’Œæ–¹æ‹¬
     * å·ä¸­çš„æ•°ç»„é•¿åº¦æ¥åˆå§‹åŒ–æ•°ç»„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š
     */
    let blist = [3; 5];
    println!("blist: {}", blist[0]); // blist: 3
    // å˜é‡åä¸º a çš„æ•°ç»„å°†åŒ…å« 5 ä¸ªå…ƒç´ ï¼Œè¿™äº›å…ƒç´ çš„å€¼åˆå§‹åŒ–ä¸º 3ã€‚è¿™ç§å†™æ³•ä¸ let a = [3, 3, 3, 3, 3]; æ•ˆæœç›¸åŒï¼Œä½†æ›´ç®€æ´ã€‚
  
  }
  {
    // è®¿é—®æ•°ç»„å…ƒç´ 
    let a = [1, 2, 3, 4, 5];
    let first = a[0];
    let second = a[1];
    println!("first: {}", first);  // first: 1
    println!("second: {}", second);  // second: 2
  }

  // TODO: æ— æ•ˆçš„æ•°ç»„å…ƒç´ è®¿é—®
  /*
   * å¦‚æœå°è¯•è®¿é—®è¶…å‡ºæ•°ç»„æœ«å°¾çš„æ•°ç»„å…ƒç´ ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ å‡å¦‚ä½ å°†ç¤º
   * ä¾‹æ›´æ”¹ä¸ºä»¥ä¸‹å†…å®¹ï¼Œä½¿ç”¨ç±»ä¼¼äºç¬¬ 2 ç« çŒœæ•°å­—æ¸¸æˆçš„ä»£ç é‚£æ ·ä»ç”¨
   * æˆ·è·å–æ•°ç»„ç´¢å¼•ï¼š
   */
  {

    let alist = [1, 2, 3, 4, 5];
    println!("Please enter an array index.");
    
    let mut index = String::new();

    io::stdin().read_line(&mut index).expect("Failed to read line");

    let index: usize = index.trim().parse().expect("Index entered was not a number");

    let element = alist[index];
    println!("The value of the element at index {} is: {}", index, element);
    // The value of the element at index 3 is: 4
    /*
     * æ­¤ä»£ç ç¼–è¯‘æˆåŠŸã€‚å¦‚æœä½¿ç”¨ cargo run æ¥è¿è¡Œæ­¤ä»£ç å¹¶è¾“å…¥ 0ã€1ã€2ã€3 æˆ– 4ï¼Œåˆ™ç¨‹åº
     * å°†æ‰“å°æ•°ç»„å¯¹åº”ç´¢å¼•çš„å€¼ã€‚å¦‚æœè¾“å…¥çš„æ˜¯è¶…å‡ºæ•°ç»„æœ«å°¾çš„æ•°å­—ï¼Œä¾‹å¦‚ 10ï¼Œåˆ™ä¼šçœ‹åˆ°ç±»
     * ä¼¼ä»¥ä¸‹çš„è¾“å‡ºï¼š
     */
  }

}